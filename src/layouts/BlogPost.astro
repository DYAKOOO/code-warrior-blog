---
import FormattedDate from '../components/FormattedDate.astro';

const { post } = Astro.props;
const { title, pubDate, updatedDate, heroImage, tags = [] } = post.data;
---

<article class="bg-white shadow-md rounded-lg overflow-hidden transition-shadow duration-300 hover:shadow-lg">
  <a href={`/blog/${post.slug}/`} class="block">
    {heroImage && <img src={heroImage} alt="" class="w-full h-32 object-cover" />}
    <div class="p-3">
      <h2 class="text-lg font-semibold text-gray-800 mb-1 truncate">{title}</h2>
      <FormattedDate date={pubDate} />
      <p class="text-gray-600 mt-1 text-sm line-clamp-2">{post.data.description}</p>
    </div>
  </a>
  {tags.length > 0 && (
    <div class="px-3 pb-3 flex flex-wrap gap-1">
      {tags.map((tag) => (
        <a 
          href={`#${tag}`}
          class="post-tag bg-gray-200 px-2 py-0.5 rounded-full text-s text-center text-gray-700 hover:bg-red-600 hover:text-white transition duration-300"
          data-tag={tag}
        >
          {tag}
        </a>
      ))}
    </div>
  )}
</article>